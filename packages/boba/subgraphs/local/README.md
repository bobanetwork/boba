# Local setup
These files are auto-generated by GoldSky. As of 5th Jan 24 the GoldSky team manually sent us these files from the no-code subgraph. In future this will be most likely a cli future.

So, ideally avoid mantaining these files manually. They are only for local testing purposes which is **only** really needed if the network you want to deploy on is a local RPC node (e.g. during the Anchorage migration for example).


## How to
1. Start the local anchorage stack with `make devnet-hardhat-up`
2. Start graph node: `docker-compose up`
3. Make sure to adapt the L1 contract addresses in the `subgraph.yaml` file. L2 stays the same for pre-deploys.
4. Create subgraph: `graph create --node http://127.0.0.1:8020 twostep-withdrawal-{network}/v{version}`
5. Deploy subgraph: `graph deploy twostep-withdrawal-{network}/v{version} --ipfs http://127.0.0.1:5001 --node http://127.0.0.1:8020`

Further documentation on The Graph: https://github.com/graphprotocol/graph-node/tree/master/docker
